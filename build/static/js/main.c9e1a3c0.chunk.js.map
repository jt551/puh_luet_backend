{"version":3,"sources":["components/FilterItems.js","components/PrintContact.js","services/Contacts.js","components/PrintContacts.jsx","components/Filter.jsx","components/NewPersonForm.jsx","components/Notification.js","App.js","index.js"],"names":["FilterItems","arr","query","filter","obj","name","toLowerCase","indexOf","PrintContact","props","className","number","baseURL","axios","get","then","response","data","newObject","post","id","put","delete","PrintContacts","prefilter","contacts","result","map","res","index","key","onClick","setNotifyMsg","setErrorMsg","window","confirm","jsonService","setTimeout","catch","error","setPersons","persons","con","Filter","htmlFor","type","placeholder","value","onChange","handleFilterChange","NewPersonForm","onSubmit","formSubmit","newName","handleChange","newNumber","handleNumChange","Notification","message","err","App","useState","setNewName","setNewNumber","setFilter","errorMsg","notifyMsg","useEffect","event","preventDefault","find","updateobj","def","person","concat","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c9e1a3c0.chunk.js","sourcesContent":["//import React from 'react'\r\n\r\nconst FilterItems = (arr, query) => {\r\n    return arr.filter(obj => obj.name.toLowerCase().indexOf(query.toLowerCase()) !== -1);\r\n  };\r\n\r\nexport default FilterItems","import React from 'react';\r\n\r\nconst PrintContact = (props) => {\r\n    return (\r\n        <li className=\"list-group-item col-lg-4\">{props.name} : {props.number}</li>\r\n \r\n    )\r\n}\r\n\r\nexport default PrintContact","import axios from 'axios'\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React from \"react\";\r\nimport FilterItems from './FilterItems';\r\nimport PrintContact from './PrintContact'\r\nimport jsonService from '../services/Contacts'\r\n\r\n\r\n\r\nconst PrintContacts = (props) => {\r\n  const prefilter = props.contacts;\r\n  const filter = props.filter;\r\n  \r\n  const removeContact = (id, name, setNotifyMsg) => {\r\n    if(window.confirm(`Remove contact ${name}?`)){\r\n      const rm = jsonService.remove(id);\r\n      rm\r\n      .then(setNotifyMsg(`${name} deleted`))\r\n      .then(setTimeout(()=> {\r\n        setNotifyMsg(null)\r\n      }, 3000))\r\n      .catch(error => {props.setErrorMsg('error')\r\n        setTimeout(()=> {\r\n          props.setErrorMsg(null)\r\n        }, 3000)\r\n      })\r\n      \r\n      props.setPersons(props.persons.filter( con => con.id !== id))\r\n    }    \r\n  }  \r\n  \r\n  const result = FilterItems(prefilter, filter);\r\n   \r\n    return (\r\n        <div>\r\n          <h1>Contacts</h1>\r\n          \r\n            {result.map((res, index )=>\r\n            <div className=\"row\" key={index}>\r\n               <PrintContact key={res.name} name={res.name} number={res.number}/> <button className=\"btn btn-outline-danger btn-sm\" onClick={()=> removeContact(res.id, res.name, props.setNotifyMsg, props.setErrorMsg)}>Delete</button>\r\n            </div>)}\r\n          \r\n        </div>\r\n      )\r\n}\r\n\r\nexport default PrintContacts;\r\n","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n      <div>\r\n        <label htmlFor=\"filterinput\">Filter results</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control col-lg-4\"\r\n          id=\"filterinput\"\r\n          placeholder=\"Filter\"\r\n          value={props.filter}\r\n          onChange={props.handleFilterChange}\r\n        />\r\n      </div>\r\n    );\r\n}\r\nexport default Filter;\r\n","import React from 'react'\r\n\r\nconst NewPersonForm = (props) => {\r\n    return (\r\n        <div>\r\n        <form onSubmit={props.formSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"nameinput\">Add new name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control col-lg-4\"\r\n            id=\"nameinput\"\r\n            placeholder=\"Name\"\r\n            value={props.newName}\r\n            onChange={props.handleChange}\r\n          />\r\n          <label htmlFor=\"phoneinput\">number</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control col-lg-4\"\r\n            id=\"phoneinput\"\r\n            placeholder=\"Number\"\r\n            value={props.newNumber}\r\n            onChange={props.handleNumChange}\r\n          />\r\n        </div>\r\n        <button className=\"btn btn-primary\" type=\"submit\">\r\n         Add\r\n        </button>\r\n      </form>\r\n        </div>\r\n    )\r\n}\r\nexport default NewPersonForm;\r\n","import React from 'react'\r\n\r\nconst Notification = (props) => {\r\n    \r\n    if( props.message === null && props.err === null){\r\n        return null\r\n    }\r\n    /*else if( props.message && props.err){\r\n        return (\r\n          <div>\r\n            <div className=\"error\">\r\n              <p>{props.err}</p>\r\n            </div>\r\n            <div className=\"notify\">\r\n              <p>{props.message}</p>\r\n            </div>\r\n          </div>\r\n        );\r\n    }*/\r\n    else if (props.message){\r\n        return(\r\n        <div className=\"notify\">\r\n            <p>{props.message}</p>\r\n        </div>\r\n        )\r\n    }\r\n    else if (props.err){\r\n        return (\r\n        <div className=\"error\">\r\n            <p>{props.err}</p>\r\n        </div>\r\n        )\r\n    }\r\n        \r\n    \r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport PrintContacts from \"./components/PrintContacts\"\nimport Filter from './components/Filter'\nimport NewPersonForm from './components/NewPersonForm'\nimport jsonService from './services/Contacts'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter] = useState('')\n  const [errorMsg, setErrorMsg] = useState(null)\n  const [notifyMsg, setNotifyMsg] = useState(null)\n\n  useEffect(() => {\n    jsonService\n      .getAll()\n      .then(response => setPersons(response))\n      .catch(error => {setErrorMsg('connection error')\n      setTimeout(()=> {\n        setErrorMsg(null)\n      }, 3000)\n    })\n  }, [])\n\n  const handleChange = (event) => {\n    setNewName(event.target.value);\n  }\n  const handleNumChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const formSubmit = (event) => {\n    event.preventDefault()\n\n    const search = persons.find(function (obj) {\n      return obj.name === newName;\n    })\n    \n    if(search){\n      if(window.confirm(`${newName} exists, do you want to update the number?`)){\n      const updateobj = persons.find(def => def.name === newName)\n      updateobj.number = newNumber\n      jsonService\n      .update(updateobj.id, updateobj)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== updateobj.id ? person : response ))\n        setNotifyMsg(`${newName} updated`)\n        setNewName('')\n        setNewNumber('')\n        setTimeout(()=> {\n          setNotifyMsg(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setErrorMsg('update error')\n        setTimeout(()=> {\n          setErrorMsg(null)\n        }, 3000)\n      })\n      }\n    } else{\n      const contactObject = {\n        name: newName,\n        number: newNumber\n      }\n      jsonService\n      .create(contactObject)\n      .then(response => {\n        setPersons(persons.concat(response))\n        setNotifyMsg(`${newName} created`)\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setTimeout(()=> {\n          setNotifyMsg(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setErrorMsg(error.response.data.error)\n        setTimeout(()=> {\n          setErrorMsg(null)\n        }, 3000)\n\n      })\n\n      \n    }\n           \n    }\n  \n\n  return (\n    <div>\n    <h2>Phonebook</h2>\n        <Notification message={notifyMsg} err={errorMsg}/>        \n        <NewPersonForm formSubmit={formSubmit} newName={newName} handleChange={handleChange} newNumber={newNumber} handleNumChange={handleNumChange}/>\n        <Filter filter={filter} handleFilterChange={handleFilterChange}/>\n        <PrintContacts contacts={persons} filter={filter} persons={persons} setPersons={setPersons} setNotifyMsg={setNotifyMsg} setErrorMsg={setErrorMsg}/>\n    </div>\n  );\n\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}